<?xml version="1.0" encoding="UTF-8"?>
<odoo>

<record id="view_pos_delivery_search" model="ir.ui.view">
    <field name="model">stock.picking</field>
    <field name="arch" type="xml">
        <search string="Picking Lists">
            <field
                name="name"
                string="Picking List"
                filter_domain="['|',
                    ('name','ilike', self),
                    ('origin','ilike',self),
                    ('partner_id.ref', 'ilike', self),
                    ('partner_id.name', 'ilike', self),
                ]"/>
             <separator/>
             <filter name="todo" string="ToDo" domain="[('state','not in', ('done', 'cancel'))]" help="Delivery todo"/>
        </search>
    </field>
</record>

<record id="action_pos_delivery" model="ir.actions.act_window">
     <field name="name">Delivery</field>
     <field name="res_model">stock.picking</field>
     <field name="type">ir.actions.act_window</field>
     <field name="view_type">form</field>
     <field name="view_mode">tree</field>
     <field name="domain">[("picking_type_id.code", "=", "outgoing")]</field>
     <field name="context">{'search_default_todo': True}</field>
     <field name="search_view_id" ref="view_pos_delivery_search"/>
      <field name="help" type="html">
       <p class="o_view_nocontent_smiling_face">
         Define a new transfer
       </p>
     </field>
</record>

<record id="stock_picking_pos_view_tree" model="ir.ui.view">
    <field name="model">stock.picking</field>
    <field name="arch" type="xml">
        <tree string="Delivery" create="0">
            <field name="name"/>
            <field name="partner_id"/>
            <field name="scheduled_date"/>
            <field name="origin"/>
            <field name="state"/>
            <button name="open_pos_delivery_wizard" type="object" string="Delivery" class="btn-primary"/>
        </tree>
    </field>
</record>

<record model="ir.actions.act_window.view" id="action_stock_picking_pos_view_tree">
    <field name="act_window_id" ref="action_pos_delivery"/>
    <field name="sequence" eval="10"/>
    <field name="view_mode">tree</field>
    <field name="view_id" ref="stock_picking_pos_view_tree"/>
</record>

</odoo>
